!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}y(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&y(e,"error",t,n)}(e,o,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function p(e,t,n,r){var o,i,s,a;if(u(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=l(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=m.bind(r);return o.listener=n,r.wrapFn=o,o}function d(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):g(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var u=c.length,l=g(c,u);for(n=0;n<u;++n)i(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return p(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return p(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,o,i,s;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t){e.exports=function(e){switch((e.match(/\.(\w+)$/)||[])[1]){case"png":return function(e,t,n){var r=new Promise((function(r,o){t.onerror=function(t){o(new Error("fetching "+e+" failed"))},t.addEventListener(n,(function(){r(t)}))}));return t.src=e,r}(e,new Image,"load");case"mp3":return function(e){console.log("trying to preload :"+e);var t=new Audio;return done=new Promise((e,n)=>{t.addEventListener("canplaythrough",(function(){e(t)})),t.addEventListener("error",e=>{console.log("COULD NOT LOAD AUDIO"),n("COULD NOT LOAD AUDIO")})}),t.src=e,t.load(),done}(e);case"js":return config.loadJSON(e);default:return function(e,t){return new Promise((function(n,r){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType=t,o.addEventListener("load",(function(t){if(200!=o.status)return r(new Error("fetching "+e+" failed"));n(o.response)})),o.send()}))}(e,"arraybuffer")}}},function(e,t,n){let r,o,i,s,a,c,u,l=n(1),p=n(6),m=e.exports={};m.load=()=>{let e=window.location.search.substr(1);e=p.parse(e);let t=e.beatmap;if(a=parseInt(e.bpm),c=e.writer,u=e.name,!t)return location.href="./chose.html";let n="./beatmaps/"+t;return console.log(n),Promise.all([l(n+".mp3"),l(n+".js")]).then(e=>{r=e[0],console.log(r.duration),console.log(e[1].length),o=e[1],i=[],s=0})},m.result=e=>{if(null==e&&null==e&&(e=s),r.paused||o.length<=e)return"before";let t=1e3*r.currentTime-o[e][0],n=Math.abs(t);return n<150?"good":n<300?"pass":t<-300?"before":t>300?"after":"miss"},m.hit=e=>{let t;switch(e){case"up":t=1;break;case"down":t=2;break;case"left":t=3;break;case"right":t=4}let n=m.result(s);return i[s]="good"==n||"pass"==n|"miss"==n,i[s]?o[s++][1]==t?n:"miss":n},m.search=()=>{let e=s;for(;"after"==m.result(s);)s++;return e!=s},m.play=()=>{r.paused?r.play():r.pause()},m.pause=()=>{r.pause()},m.state=()=>({total:1e3*r.duration,beatmap:o,index:s,record:i,time:1e3*r.currentTime,bpm:a,name:u,writer:c})},function(e,t,n){const r=n(4);let o=n(5),i=n(2);const s=new(n(0));let a,c={score:0,combo:0,auto:!1,lastCombo:0},u=[];window.addEventListener("load",e=>{let t=[o.load(),i.load()];Promise.all(t).then(()=>{r.on("hit",(e,t)=>{o.tray(t),s.emit("hit",e)}),r.on("hitUp",(e,t)=>{o.tray(t)});let e=!1;r.on("play",(function(){e||(config.gameBehest(m.e,i.state().bpm),e=!0),i.play()})),r.on("pause",(function(){i.pause()})),r.on("auto",()=>c.auto=!c.auto),s.on("hit",e=>{let t=i.hit(e);"good"!=t&&"pass"!=t||s.emit("ok",t),s.emit(t)}),s.on("miss",(function(){u.push(c.combo),c.combo=0,o.combo(c.combo)})),s.on("ok",e=>{o.fire(e),o.combo(++c.combo)}),s.on("good",()=>{c.score+=3}),s.on("pass",()=>{c.score+=1}),r.load(),a=setInterval(h,16)})});let l,p={state:0,time:16,count:5};let m={e:1,l:2,d:3,y:4,m:5,a:6,ss:4e3,s:6e3,ct:0,c:1,state:1};function f(){let e=i.state().time;1==m.state&&e>=m.ss&&(config.gameBehest(m.l,i.state().bpm),m.c=m.l,m.state=2),2==m.state&&e>=m.ct+m.s&&(!function(e){0==c.combo?(config.gameBehest(m.m,i.state().bpm),m.c=m.m,m.ct=e):c.combo>=10&&m.d!=m.c?(config.gameBehest(m.d,i.state().bpm),m.c=m.d,m.ct=e):c.combo<10&&c.combo>0&&m.l!=m.c&&(config.gameBehest(m.l,i.state().bpm),m.c=m.l,m.ct=e)}(e),console.log("act.state",m.state))}let d=!0;function h(){if(i.state().total-4e3<=i.state().time&&d&&(d=!1,config.gameBehest(m.y,i.state().bpm)),i.state().total==i.state().time){u.push(c.lastCombo);let e=Math.max.apply(null,u),t=c.score;clearInterval(a),i.state().beatmap.length==e&&config.gameBehest(m.a,120);let n=3*i.state().beatmap.length,r=i.state().name,o=i.state().writer;return void(location.href=`./end.html?score=${t}&combo=${e}&total=${n}&name=${r}&writer=${o}`)}if(i.search()&&s.emit("miss"),o.clear(),o.dish(),o.progressBg(),o.loop(),o.track(i.state()),o.progress(c.score),function(){let e=c.score;l=3*i.state().beatmap.length*3.5/10,e>l&&0==p.state?(p.state=1,p.currTime=i.state().time,r.emit("touchOnOff"),c.auto=!0,o.graphEvent.emit("showTime"),m.c!=m.d&&(config.gameBehest(m.d,i.state().bpm),m.c=m.d)):(1==p.state&&5==p.count&&p.currTime+1e3*p.time-i.state().time<=5e3&&(o.graphEvent.emit("countdown",p.count),p.count=4),1==p.state&&4==p.count&&p.currTime+1e3*p.time-i.state().time<=4e3&&(o.graphEvent.emit("countdown",p.count),p.count=3),1==p.state&&3==p.count&&p.currTime+1e3*p.time-i.state().time<=3e3&&(o.graphEvent.emit("countdown",p.count),p.count=2),1==p.state&&2==p.count&&p.currTime+1e3*p.time-i.state().time<=2e3&&(o.graphEvent.emit("countdown",p.count),p.count=1),1==p.state&&1==p.count&&p.currTime+1e3*p.time-i.state().time<=1e3&&(o.graphEvent.emit("countdown",p.count),p.count=0),1==p.state&&0==p.count&&p.currTime+1e3*p.time-i.state().time<=200&&(o.graphEvent.emit("countdown",p.count),p.count=-1),1==p.state&&i.state().time>p.currTime+1e3*p.time&&(p.state=2,r.emit("touchOnOff"),c.auto=!1))}(),o.score(c.score),f(),c.combo>c.lastCombo&&(c.lastCombo=c.combo),c.auto&&"good"==i.result()){var e,t=i.state();switch(t.beatmap[t.index][1]){case 1:e="up";break;case 2:e="down";break;case 3:e="left";break;case 4:e="right"}s.emit("hit",e)}}},function(e,t,n){const r=n(0);n(1);let o=window.key=e.exports=new r,i={up:!1,down:!1,left:!1,right:!1},s={up:"up",down:"down",left:"left",right:"right"},a={p:"play",a:"auto",ArrowUp:"up",ArrowRight:"right",ArrowLeft:"left",ArrowDown:"down"};o.load=()=>{window.addEventListener("touchstart",o.events,!0),window.addEventListener("touchend",o.events,!0),window.addEventListener("click",e=>{let t=e.target,n=t.getAttribute("data-attr");"play"==n&&(o.emit(n),t.parentNode.parentNode.parentNode.style.display="none")})};let c=!0;o.on("touchOnOff",()=>{c=!c}),window.addEventListener("keydown",e=>{if("play"==a[e.key])return o.emit(a[e.key]);if("auto"==a[e.key])return o.emit(a[e.key]);let t=a[e.key];t&&!i[t]&&(i[t]=!0,o.emit("hit",t,i))}),window.addEventListener("keyup",e=>{let t=a[e.key];t&&i[t]&&(i[t]=!1,o.emit("hitUp",t,i))}),o.events=e=>{let t=e.target,n=s[t.getAttribute("data-attr")];console.log("this is touch :"+n),c?n&&!i[n]?(i[n]=!0,o.emit("hit",n,i)):(i[n]=!1,o.emit("hitUp",n,i)):i[n]&&(i[n]=!1,o.emit("hitUp",n,i))}},function(e,t,n){let r,o,i,s,a=n(1),c=n(2);o=window.innerWidth,i=.45*window.innerHeight;let u=n(0),l=t.graphEvent=new u,p={duration:2600,fromX:0,toX:o,y:.68*i,dest:87,radius:25};const m={down:"down",left:"left",right:"right",up:"up"};let f={dest:87,radius:33,y:.68*i,fromX:0},d={arr:[],centerX:87,centerY:.68*i,radius:55,from:7,to:14},h={count:0,state:7,from:7,to:10,centerX:.11*o,bottomY:.28*i,width:.136*o,height:.136*i};function g(e){return Array.apply(null,{length:21}).map((function(t,n){return e*Math.sin(Math.PI*n/20)}))}function y(e){v.innerHTML=" ",e.classList.add("showTime-img"),e.classList.add("active"),v.appendChild(e)}let v=document.querySelector(".showTime");l.on("showTime",()=>{y(s[33])}),l.on("countdown3",()=>{let e=s[34];e.style.width="82px",e.style.height="90px",y(e)}),l.on("countdown2",()=>{let e=s[35];e.style.width="82px",e.style.height="90px",y(e)}),l.on("countdown1",()=>{let e=s[36];e.style.width="50px",e.style.height="88px",y(e)}),l.on("countdown",e=>{let t;switch(e){case 5:t=s[33],v.innerHTML=" ",t.classList.add("showTime-img"),t.classList.add("active1"),v.appendChild(t);break;case 4:t=s[37],t.style.width="400px",t.style.height="72px",y(t);break;case 3:t=s[34],t.style.width="82px",t.style.height="90px",y(t);break;case 2:t=s[35],t.style.width="82px",t.style.height="90px",y(t);break;case 1:t=s[36],t.style.width="50px",t.style.height="88px",y(t);break;case 0:v.innerHTML=" "}}),t.load=()=>{!function(){let e=document.getElementById("canvas");r=e.getContext("2d"),e.width=o,e.height=i}(),d.anmap=g(d.radius),h.anmap=g(h.height),h.numAnmap=g(h.height+h.from),document.querySelector(".showTime-container").style.top=77*i/100*347/1e3+"px",p.fx=p.fromX-p.radius,p.tx=p.toX+p.radius,p.dy=p.y-p.radius,p.diameter=2*p.radius,p.v=(p.tx-p.fx)/p.duration,p.timeFrom=(p.fx-p.dest)/p.v,p.timeTo=p.timeFrom+p.duration,f.fx=f.dest-f.radius,f.dy=f.y-f.radius,f.diameter=2*f.radius;let e=[];for(let t=1;t<=2;t++)for(let n=0;n<10;n++)e.push("./image/num_"+t+"_"+n+".png");return e=e.concat(["./image/pic_reaction_g.png","./image/good.png","./image/great.png","./image/prefert.png","./image/Combo.png","./image/up.png","./image/down.png","./image/left.png","./image/right.png","./image/pic_reaction_g1.png","./image/sliding_1.png","./image/sliding_2.png","./image/bg_num_s.png","./image/showtime.png","./image/pic_3.png","./image/pic_2.png","./image/pic_1.png","./image/pic_go.png","./image/pic_reaction_pass.png"]).map(a),Promise.all(e).then(e=>s=e)},t.track=e=>{let t,n,o=p.timeFrom+e.time,i=p.timeTo+e.time,a=e.index;for(;a<e.beatmap.length&&e.beatmap[a][0]<=i;)a++;for(;--a>-1&&e.beatmap[a][0]>=o;)if(!e.record[a]){switch(n=e.beatmap[a],n[1]){case 1:t=s[25];break;case 2:t=s[26];break;case 3:t=s[27];break;case 4:t=s[28]}if(t){let e=(n[0]-o)*p.v+p.fx-p.radius;r.drawImage(t,e,p.dy,p.diameter,p.diameter)}}},t.clear=function(){r.clearRect(0,0,o,i)};let w,b,L={h:17*i/100,w:47*o/100,x:37*o/100,y:20*i/100},x={h:95*i/1e3,w:444*o/1e3,x:385*o/1e3,y:234*i/1e3},_={h:19*i/100,w:19*o/100,x:81*o/100,y:175*i/1e3},O={h:178*i/1e3,w:44*o/1e3,x:812*o/1e3,y:142*i/1e3};t.progress=e=>{w=3*c.state().beatmap.length*3.5/10,b=s[31].width;let t=e*x.w/w,n=e*b/w;r.drawImage(s[31],0,0,n,s[31].height,x.x,x.y,t,x.h)},t.score=e=>{let t=e.toString().split(""),n=O.x+10;t.forEach(e=>{r.drawImage(s[e],n,O.y,O.w,O.h),n+=O.w})},t.progressBg=()=>{r.drawImage(s[30],0,0,s[30].width,s[30].height,L.x,L.y,L.w,L.h),r.drawImage(s[32],_.x,_.y,_.w,_.h)},t.dish=()=>{r.drawImage(s[s.length-1],f.fx,f.dy,f.diameter,f.diameter)},t.combo=e=>{h.show=e&&e>=10,h.show&&(h.str=e.toString().split(""),h.stage=h.from)},t.fire=e=>{let t={stage:d.from};t.img="good"==e?s[20]:s[29],d.arr.push(t)},t.tray=e=>{Object.keys(m).forEach(t=>{let n=e[t]?m[t]+"Active":m[t],r=document.querySelector("[data-attr="+t+"]"),o=r.classList.contains(n);o||(t!=n?(r.classList.toggle(n,!o),r.classList.toggle(t,o)):(r.classList.toggle(n,!o),r.classList.toggle(m[t]+"Active",o)))})},t.loop=()=>{if(h.show&&h.state<=h.to){let e=h.centerX+h.width+15;h.str.forEach((t,n)=>{let o=h.anmap[h.stage],i=h.bottomY-o,a=h.numAnmap[h.stage],c=h.bottomY-a+5;r.drawImage(s[24],h.centerX,i,h.width,o),r.drawImage(s[10+1*t],e,c,20,a),e+=20}),h.stage++,h.stage>h.to&&(h.stage=h.to)}d.arr=d.arr.filter(e=>e.stage<=d.to).map(e=>{let t=d.anmap[e.stage],n=d.centerX-t,o=d.centerY-t,i=2*t;return r.drawImage(e.img,n,o,i,i),e.stage++,e})}},function(e,t,n){"use strict";t.decode=t.parse=n(7),t.encode=t.stringify=n(8)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var p,m,f,d,h=e[l].replace(a,"%20"),g=h.indexOf(n);g>=0?(p=h.substr(0,g),m=h.substr(g+1)):(p=h,m=""),f=decodeURIComponent(p),d=decodeURIComponent(m),r(s,f)?o(s[f])?s[f].push(d):s[f]=[s[f],d]:s[f]=d}return s};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(s(e),(function(s){var a=encodeURIComponent(r(s))+n;return o(e[s])?i(e[s],(function(e){return a+encodeURIComponent(r(e))})).join(t):a+encodeURIComponent(r(e[s]))})).join(t):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL19ldmVudHNAMy4zLjBAZXZlbnRzL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbG9hZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvYmVhdG1hcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2tleS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZ3JhcGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL19xdWVyeXN0cmluZy1lczNAMC4yLjFAcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9fcXVlcnlzdHJpbmctZXMzQDAuMi4xQHF1ZXJ5c3RyaW5nLWVzMy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL19xdWVyeXN0cmluZy1lczNAMC4yLjFAcXVlcnlzdHJpbmctZXMzL2VuY29kZS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlJlZmxlY3RPd25LZXlzIiwiUiIsIlJlZmxlY3QiLCJSZWZsZWN0QXBwbHkiLCJhcHBseSIsInRhcmdldCIsInJlY2VpdmVyIiwiYXJncyIsIkZ1bmN0aW9uIiwib3duS2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5TmFtZXMiLCJjb25jYXQiLCJOdW1iZXJJc05hTiIsIk51bWJlciIsImlzTmFOIiwiRXZlbnRFbWl0dGVyIiwiaW5pdCIsInRoaXMiLCJvbmNlIiwiZW1pdHRlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyb3JMaXN0ZW5lciIsImVyciIsInJlbW92ZUxpc3RlbmVyIiwicmVzb2x2ZXIiLCJzbGljZSIsImFyZ3VtZW50cyIsImV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lciIsImhhbmRsZXIiLCJmbGFncyIsIm9uIiwiYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIiLCJfZXZlbnRzIiwidW5kZWZpbmVkIiwiX2V2ZW50c0NvdW50IiwiX21heExpc3RlbmVycyIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJjaGVja0xpc3RlbmVyIiwibGlzdGVuZXIiLCJUeXBlRXJyb3IiLCJfZ2V0TWF4TGlzdGVuZXJzIiwidGhhdCIsIl9hZGRMaXN0ZW5lciIsInR5cGUiLCJwcmVwZW5kIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJ3YXJuaW5nIiwibmV3TGlzdGVuZXIiLCJlbWl0IiwidW5zaGlmdCIsInB1c2giLCJsZW5ndGgiLCJ3YXJuZWQiLCJ3IiwiRXJyb3IiLCJTdHJpbmciLCJjb3VudCIsImNvbnNvbGUiLCJ3YXJuIiwib25jZVdyYXBwZXIiLCJmaXJlZCIsIndyYXBGbiIsIl9vbmNlV3JhcCIsInN0YXRlIiwid3JhcHBlZCIsIl9saXN0ZW5lcnMiLCJ1bndyYXAiLCJldmxpc3RlbmVyIiwiYXJyIiwicmV0IiwiQXJyYXkiLCJ1bndyYXBMaXN0ZW5lcnMiLCJhcnJheUNsb25lIiwibGlzdGVuZXJDb3VudCIsImNvcHkiLCJhZGRFdmVudExpc3RlbmVyIiwid3JhcExpc3RlbmVyIiwiYXJnIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldCIsIlJhbmdlRXJyb3IiLCJnZXRQcm90b3R5cGVPZiIsInNldE1heExpc3RlbmVycyIsImdldE1heExpc3RlbmVycyIsImRvRXJyb3IiLCJlcnJvciIsImVyIiwibWVzc2FnZSIsImNvbnRleHQiLCJsZW4iLCJsaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0IiwicG9zaXRpb24iLCJvcmlnaW5hbExpc3RlbmVyIiwic2hpZnQiLCJpbmRleCIsInBvcCIsInNwbGljZU9uZSIsIm9mZiIsInJlbW92ZUFsbExpc3RlbmVycyIsImtleXMiLCJyYXdMaXN0ZW5lcnMiLCJldmVudE5hbWVzIiwibGluayIsIm1hdGNoIiwiZWxlbWVudCIsImV2ZW50IiwiZG9uZSIsInJlcyIsInJlaiIsIm9uZXJyb3IiLCJlIiwic3JjIiwiZWxlIiwiSW1hZ2UiLCJsb2ciLCJhdWRpbyIsIkF1ZGlvIiwiZXYiLCJsb2FkIiwiYXVkaW9lbGUiLCJjb25maWciLCJsb2FkSlNPTiIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJyZXNwb25zZVR5cGUiLCJzdGF0dXMiLCJyZXNwb25zZSIsInNlbmQiLCJ4aHIiLCJtdXNpYyIsImJtYXAiLCJyZWNvcmQiLCJicG0iLCJ3cml0ZXIiLCJxcyIsImJlYXRtYXAiLCJxdWVyeSIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyIiwicGFyc2UiLCJtYXAiLCJwYXJzZUludCIsImhyZWYiLCJmaWxlUGF0aCIsImFsbCIsInRoZW4iLCJkdXJhdGlvbiIsInJlc3VsdCIsInBhdXNlZCIsInJhbmciLCJjdXJyZW50VGltZSIsImFicyIsIk1hdGgiLCJoaXQiLCJhY3Rpb24iLCJjb2RlIiwicHJlIiwicGxheSIsInBhdXNlIiwidG90YWwiLCJ0aW1lIiwiZ3JhcGgiLCJ0YWlrbyIsImlkIiwic2NvcmUiLCJjb21ibyIsImF1dG8iLCJsYXN0Q29tYm8iLCJjb21ib3MiLCJhY3QiLCJ0cmF5IiwiZmxhZyIsImdhbWVCZWhlc3QiLCJmaXJlIiwic2V0SW50ZXJ2YWwiLCJsb29wIiwic2hvd1RpbWUiLCJ5IiwiYSIsInNzIiwiY3QiLCJleGVjIiwiY3VyclRpbWUiLCJzZW5kQ21kIiwiZmxhZ1N0YXkiLCJtYXhDb21ibyIsIm1heCIsImNsZWFySW50ZXJ2YWwiLCJ0b3RhbFNjb3JlIiwiY2xlYXIiLCJkaXNoIiwicHJvZ3Jlc3NCZyIsInRyYWNrIiwicHJvZ3Jlc3MiLCJzZSIsImdyYXBoRXZlbnQiLCJzaG93dGltZSIsImJlYXQiLCJic3RhdGUiLCJFdmVudCIsInVwIiwiZG93biIsImxlZnQiLCJyaWdodCIsImNvbW1hbmQiLCJBcnJvd1VwIiwiQXJyb3dSaWdodCIsIkFycm93TGVmdCIsIkFycm93RG93biIsImV2dCIsImRvbSIsImdldEF0dHJpYnV0ZSIsInBhcmVudE5vZGUiLCJzdHlsZSIsImRpc3BsYXkiLCJvbk9mZiIsIndpZHRoIiwiaGVpZ2h0IiwiaW1hZ2VzIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZnJvbVgiLCJ0b1giLCJkZXN0IiwicmFkaXVzIiwiY2VudGVyWCIsImNlbnRlclkiLCJmcm9tIiwidG8iLCJib3R0b21ZIiwiZ2VuQW5tYXAiLCJzaW4iLCJQSSIsImNyZWF0ZUltYWdlIiwiaW1hZ2UiLCJpbWdDb250YWluZXIiLCJpbm5lckhUTUwiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImltZyIsIm51bSIsImNhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsImxvYWRDYW52YXMiLCJhbm1hcCIsIm51bUFubWFwIiwidG9wIiwiZngiLCJ0eCIsImR5IiwiZGlhbWV0ZXIiLCJ2IiwidGltZUZyb20iLCJ0aW1lVG8iLCJ0YXNrcyIsImoiLCJmcm9tVCIsInRvVCIsIngiLCJkcmF3SW1hZ2UiLCJjbGVhclJlY3QiLCJwcm9XIiwiaCIsImJ0biIsInB3Iiwic3RyIiwidG9TdHJpbmciLCJzcGxpdCIsImZvckVhY2giLCJzaG93Iiwic3RhZ2UiLCJjbGEiLCJjb250YWlucyIsInRvZ2dsZSIsIm51bVgiLCJrIiwibkgiLCJuWSIsImZpbHRlciIsImRlY29kZSIsImVuY29kZSIsInN0cmluZ2lmeSIsIm9iaiIsInByb3AiLCJzZXAiLCJlcSIsIm9wdGlvbnMiLCJyZWdleHAiLCJtYXhLZXlzIiwia3N0ciIsInZzdHIiLCJyZXBsYWNlIiwiaWR4IiwiaW5kZXhPZiIsImRlY29kZVVSSUNvbXBvbmVudCIsImlzQXJyYXkiLCJ4cyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsImlzRmluaXRlIiwib2JqZWN0S2V5cyIsImtzIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsImYiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxH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QUFTeEIsR0FDMUIsT0FBT2lELEVBQUtDLG1CQUFtQkosRUFBbUI5QyxPQUNqRG1ELEtBQUtsQixHQUVEZ0IsRUFBS0MsbUJBQW1CSixFQUFtQmYsRUFBSVAsUUFFdkQyQixLQUFLbEIsR0FJTHBVLEVBQ0VxVixtQkFBbUJKLEVBQW1CalYsSUFBU3FVLEVBQy9DZ0IsbUJBQW1CSixFQUFtQmYsSUFGM0IsSUFLcEIsSUFBSWEsRUFBVTVPLE1BQU00TyxTQUFXLFNBQVVDLEdBQ3ZDLE1BQThDLG1CQUF2QzdVLE9BQU9rQixVQUFVNlIsU0FBU3RULEtBQUtvVixJQUd4QyxTQUFTaEssRUFBS2dLLEVBQUlPLEdBQ2hCLEdBQUlQLEVBQUdoSyxJQUFLLE9BQU9nSyxFQUFHaEssSUFBSXVLLEdBRTFCLElBREEsSUFBSTNNLEVBQU0sR0FDRG5KLEVBQUksRUFBR0EsRUFBSXVWLEVBQUdoUSxPQUFRdkYsSUFDN0JtSixFQUFJN0QsS0FBS3dRLEVBQUVQLEVBQUd2VixHQUFJQSxJQUVwQixPQUFPbUosRUFHVCxJQUFJdU0sRUFBYWhWLE9BQU9pSSxNQUFRLFNBQVU4TCxHQUN4QyxJQUFJdEwsRUFBTSxHQUNWLElBQUssSUFBSTVILEtBQU9rVCxFQUNWL1QsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLc1UsRUFBS2xULElBQU00SCxFQUFJN0QsS0FBSy9ELEdBRS9ELE9BQU80SCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHtcbiAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgcmVzb2x2ZXIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIHJlc29sdmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgaWYgKG5hbWUgIT09ICdlcnJvcicpIHtcbiAgICAgIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGVycm9yTGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBoYW5kbGVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgJ2Vycm9yJywgaGFuZGxlciwgZmxhZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCBsaXN0ZW5lciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgIGVtaXR0ZXIub25jZShuYW1lLCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXR0ZXIub24obmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gRXZlbnRUYXJnZXQgZG9lcyBub3QgaGF2ZSBgZXJyb3JgIGV2ZW50IHNlbWFudGljcyBsaWtlIE5vZGVcbiAgICAvLyBFdmVudEVtaXR0ZXJzLCB3ZSBkbyBub3QgbGlzdGVuIGZvciBgZXJyb3JgIGV2ZW50cyBoZXJlLlxuICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiB3cmFwTGlzdGVuZXIoYXJnKSB7XG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGJ1aWx0aW4gYHsgb25jZTogdHJ1ZSB9YCBzdXBwb3J0IHNvIHdlXG4gICAgICAvLyBoYXZlIHRvIGRvIGl0IG1hbnVhbGx5LlxuICAgICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBsaXN0ZW5lcihhcmcpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZW1pdHRlcik7XG4gIH1cbn1cbiIsIlxuZnVuY3Rpb24geGhyKGxpbmssIHR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzLCByZWopIHtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCBsaW5rLCB0cnVlKTtcbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSB0eXBlO1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZihyZXF1ZXN0LnN0YXR1cyAhPSAyMDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlaihuZXcgRXJyb3IoJ2ZldGNoaW5nICcgKyBsaW5rICsgJyBmYWlsZWQnKSk7XG4gICAgICAgICAgICByZXMocmVxdWVzdC5yZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXF1ZXN0LnNlbmQoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZWxlKGxpbmssIGVsZW1lbnQsIGV2ZW50KSB7XG4gICAgdmFyIGRvbmUgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXMsIHJlaikge1xuICAgICAgICBlbGVtZW50Lm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICByZWoobmV3IEVycm9yKCdmZXRjaGluZyAnICsgbGluayArICcgZmFpbGVkJykpO1xuICAgICAgICB9O1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmVzKGVsZW1lbnQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBlbGVtZW50LnNyYyA9IGxpbms7XG4gICAgcmV0dXJuIGRvbmU7XG59XG5cbmZ1bmN0aW9uIGF1ZGlvZWxlKGxpbmspIHtcbiAgICBjb25zb2xlLmxvZyhcInRyeWluZyB0byBwcmVsb2FkIDpcIitsaW5rKVxuICAgIHZhciBhdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgIGRvbmUgPSBuZXcgUHJvbWlzZSgoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJyxmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgIHJlcyhhdWRpbylcbiAgICAgICAgfSlcbiAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLGV2ID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ09VTEQgTk9UIExPQUQgQVVESU9cIilcbiAgICAgICAgICAgIHJlaihcIkNPVUxEIE5PVCBMT0FEIEFVRElPXCIpXG4gICAgICAgIH0pXG4gICAgfSkpXG4gICAgYXVkaW8uc3JjPWxpbms7XG4gICAgYXVkaW8ubG9hZCgpO1xuICAgIHJldHVybiBkb25lO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpbmspIHtcbiAgICB2YXIgc3VmZml4ID0gKGxpbmsubWF0Y2goL1xcLihcXHcrKSQvKSB8fCBbXSlbMV07XG4gICAgc3dpdGNoKHN1ZmZpeCkge1xuICAgICAgICBjYXNlICdwbmcnOiByZXR1cm4gZWxlKGxpbmssIG5ldyBJbWFnZSgpLCAnbG9hZCcpO1xuICAgICAgICBjYXNlICdtcDMnOiByZXR1cm4gYXVkaW9lbGUobGluayk7XG4gICAgICAgIC8vIGNhc2UgJ2ZsYWMnOiByZXR1cm4gZWxlKGxpbmssIG5ldyBBdWRpbygpLCAnY2FucGxheXRocm91Z2gnKTtcbiAgICAgICAgY2FzZSAnanMnOiByZXR1cm4gY29uZmlnLmxvYWRKU09OKGxpbmspO1xuICAgICAgICBkZWZhdWx0OiByZXR1cm4geGhyKGxpbmssICdhcnJheWJ1ZmZlcicpO1xuICAgIH1cbn07IiwibGV0IGxvYWQgPSByZXF1aXJlKCcuL2xvYWQnKTtcbmxldCBxcyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG5cbmxldCBiZWF0bWFwID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxubGV0IG11c2ljLCBibWFwLCByZWNvcmQsIGluZGV4LCBicG0sIHdyaXRlciwgbmFtZTtcblxuYmVhdG1hcC5sb2FkID0gKCkgPT4ge1xuICAgIGxldCBxdWVyeSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpO1xuICAgIHF1ZXJ5ID0gcXMucGFyc2UocXVlcnkpO1xuICAgIGxldCBtYXAgPSBxdWVyeS5iZWF0bWFwO1xuICAgIGJwbSA9IHBhcnNlSW50KHF1ZXJ5LmJwbSk7XG4gICAgd3JpdGVyID0gcXVlcnkud3JpdGVyXG4gICAgbmFtZSA9IHF1ZXJ5Lm5hbWVcbiAgICAvLyBsZXQgbmFtZSA9cXVlcnkubmFtZTtcbiAgICAvLyBsZXQgZXh0ZW50ID0gcXVlcnkuZXh0ZW50O1xuICAgIGlmICghbWFwKSByZXR1cm4gbG9jYXRpb24uaHJlZiA9IFwiLi9jaG9zZS5odG1sXCI7XG4gICAgbGV0IGZpbGVQYXRoID0gXCIuL2JlYXRtYXBzL1wiICsgbWFwO1xuICAgIGNvbnNvbGUubG9nKGZpbGVQYXRoKTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW2xvYWQoZmlsZVBhdGggKyBcIi5tcDNcIiksIGxvYWQoZmlsZVBhdGggKyBcIi5qc1wiKV0pLnRoZW4ocmVzID0+IHtcbiAgICAgICAgbXVzaWMgPSByZXNbMF07XG4gICAgICAgIGNvbnNvbGUubG9nKG11c2ljLmR1cmF0aW9uKTtcbiAgICAgICAgY29uc29sZS5sb2cocmVzWzFdLmxlbmd0aCk7XG4gICAgICAgIGJtYXAgPSByZXNbMV07XG5cbiAgICAgICAgcmVjb3JkID0gW107XG4gICAgICAgIGluZGV4ID0gMDtcbiAgICB9KVxufVxuXG5iZWF0bWFwLnJlc3VsdCA9IGkgPT4ge1xuICAgIGlmIChpID09IG51bGwgJiYgaSA9PSB1bmRlZmluZWQpIGkgPSBpbmRleDtcbiAgICBpZiAobXVzaWMucGF1c2VkIHx8IGJtYXAubGVuZ3RoIDw9IGkpIHJldHVybiBcImJlZm9yZVwiO1xuICAgIGxldCBjdXJyVGltZSA9IG11c2ljLmN1cnJlbnRUaW1lICogMTAwMDtcbiAgICBsZXQgcmFuZyA9IGN1cnJUaW1lIC0gYm1hcFtpXVswXTtcbiAgICBsZXQgYWJzID0gTWF0aC5hYnMocmFuZyk7XG4gICAgaWYgKGFicyA8IDE1MCkgcmV0dXJuIFwiZ29vZFwiO1xuICAgIGlmIChhYnMgPCAzMDApIHJldHVybiAncGFzcyc7XG4gICAgaWYgKHJhbmcgPCAtMzAwKSByZXR1cm4gXCJiZWZvcmVcIjtcbiAgICBpZiAocmFuZyA+IDMwMCkgcmV0dXJuIFwiYWZ0ZXJcIjtcbiAgICByZXR1cm4gJ21pc3MnO1xufVxuXG5cbmJlYXRtYXAuaGl0ID0gYWN0aW9uID0+IHtcbiAgICBsZXQgY29kZTtcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICBjYXNlIFwidXBcIjpcbiAgICAgICAgICAgIGNvZGUgPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkb3duXCI6XG4gICAgICAgICAgICBjb2RlID0gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICAgICAgY29kZSA9IDM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgICBjb2RlID0gNDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBsZXQgcmVzID0gYmVhdG1hcC5yZXN1bHQoaW5kZXgpO1xuICAgIHJlY29yZFtpbmRleF0gPSAocmVzID09IFwiZ29vZFwiIHx8IHJlcyA9PSBcInBhc3NcIiB8IHJlcyA9PSBcIm1pc3NcIik7XG4gICAgaWYgKCFyZWNvcmRbaW5kZXhdKSByZXR1cm4gcmVzO1xuICAgIGxldCBhbnMgPSBibWFwW2luZGV4KytdWzFdO1xuICAgIGlmIChhbnMgPT0gY29kZSkge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcIm1pc3NcIlxuICAgIH1cbn1cblxuYmVhdG1hcC5zZWFyY2ggPSAoKSA9PiB7XG4gICAgbGV0IHByZSA9IGluZGV4O1xuICAgIHdoaWxlIChiZWF0bWFwLnJlc3VsdChpbmRleCkgPT0gXCJhZnRlclwiKSBpbmRleCsrO1xuICAgIHJldHVybiBwcmUgIT0gaW5kZXg7XG59XG5cblxuYmVhdG1hcC5wbGF5ID0gKCkgPT4ge1xuICAgIGlmIChtdXNpYy5wYXVzZWQpIHtcbiAgICAgICAgbXVzaWMucGxheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG11c2ljLnBhdXNlKCk7XG4gICAgfVxufVxuYmVhdG1hcC5wYXVzZSA9ICgpID0+IHtcbiAgICBtdXNpYy5wYXVzZSgpO1xufVxuXG5iZWF0bWFwLnN0YXRlID0gKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsOiBtdXNpYy5kdXJhdGlvbiAqIDEwMDAsXG4gICAgICAgIGJlYXRtYXA6IGJtYXAsXG4gICAgICAgIGluZGV4LFxuICAgICAgICByZWNvcmQsXG4gICAgICAgIHRpbWU6IG11c2ljLmN1cnJlbnRUaW1lICogMTAwMCxcbiAgICAgICAgYnBtOiBicG0sXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHdyaXRlclxuICAgIH1cbn0iLCJjb25zdCBrZXkgPSByZXF1aXJlKFwiLi9rZXlcIik7XG5sZXQgZ3JhcGggPSByZXF1aXJlKFwiLi9ncmFwaFwiKTtcbi8vIGxldCBhdWRpbyA9IHJlcXVpcmUoXCIuL2F1ZGlvXCIpO1xubGV0IGJlYXRtYXAgPSByZXF1aXJlKFwiLi9iZWF0bWFwXCIpO1xubGV0IEV2ZW50ID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbmNvbnN0IHRhaWtvID0gbmV3IEV2ZW50KCk7XG5sZXQgaWQ7XG5sZXQgZG9ua2EgPSB7XG4gICAgdXA6IFwiZG9uXCIsXG4gICAgZG93bjogXCJkb25cIixcbiAgICBsZWZ0OiBcImthXCIsXG4gICAgcmlnaHQ6IFwia2FcIlxufVxubGV0IHN0YXRlID0ge1xuICAgIHNjb3JlOiAwLFxuICAgIGNvbWJvOiAwLFxuICAgIGF1dG86IGZhbHNlLFxuICAgIGxhc3RDb21ibzogMFxufTtcbmxldCBjb21ib3MgPSBbXTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBldiA9PiB7XG4gICAgLy9hdWRpby5sb2FkKCksXG4gICAgbGV0IGxvYWQgPSBbZ3JhcGgubG9hZCgpLCAgYmVhdG1hcC5sb2FkKCldO1xuICAgIFByb21pc2UuYWxsKGxvYWQpLnRoZW4oKCkgPT4ge1xuICAgICAgICBrZXkub24oXCJoaXRcIiwgKGFjdCwgc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGdyYXBoLnRyYXkoc3RhdGUpO1xuICAgICAgICAgICAgdGFpa28uZW1pdChcImhpdFwiLCBhY3QpO1xuICAgICAgICB9KTtcbiAgICAgICAga2V5Lm9uKFwiaGl0VXBcIiwgKGFjdCwgc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGdyYXBoLnRyYXkoc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcbiAgICAgICAga2V5Lm9uKFwicGxheVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIWZsYWcpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuZ2FtZUJlaGVzdChhY3QuZSwgYmVhdG1hcC5zdGF0ZSgpLmJwbSk7XG4gICAgICAgICAgICAgICAgZmxhZyA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJlYXRtYXAucGxheSgpO1xuICAgICAgICB9KTtcbiAgICAgICAga2V5Lm9uKFwicGF1c2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYmVhdG1hcC5wYXVzZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAga2V5Lm9uKFwiYXV0b1wiLCAoKSA9PiBzdGF0ZS5hdXRvID0gIXN0YXRlLmF1dG8pXG4gICAgICAgIHRhaWtvLm9uKFwiaGl0XCIsIGFjdCA9PiB7XG4gICAgICAgICAgICBsZXQgZGsgPSBkb25rYVthY3RdO1xuICAgICAgICAgICAgLy8gYXVkaW8ucGxheShkayk7XG4gICAgICAgICAgICBsZXQgcmVzID0gYmVhdG1hcC5oaXQoYWN0KTtcbiAgICAgICAgICAgIGlmIChyZXMgPT0gJ2dvb2QnIHx8IHJlcyA9PSBcInBhc3NcIilcbiAgICAgICAgICAgICAgICB0YWlrby5lbWl0KFwib2tcIiwgcmVzKVxuICAgICAgICAgICAgdGFpa28uZW1pdChyZXMpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGFpa28ub24oXCJtaXNzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbWJvcy5wdXNoKHN0YXRlLmNvbWJvKTtcbiAgICAgICAgICAgIHN0YXRlLmNvbWJvID0gMDtcbiAgICAgICAgICAgIGdyYXBoLmNvbWJvKHN0YXRlLmNvbWJvKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRhaWtvLm9uKFwib2tcIiwgcmVzID0+IHtcbiAgICAgICAgICAgIGdyYXBoLmZpcmUocmVzKTtcbiAgICAgICAgICAgIGdyYXBoLmNvbWJvKCsrc3RhdGUuY29tYm8pXG4gICAgICAgIH0pXG4gICAgICAgIHRhaWtvLm9uKFwiZ29vZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5zY29yZSArPSAzO1xuICAgICAgICB9KVxuICAgICAgICB0YWlrby5vbihcInBhc3NcIiwgKCkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuc2NvcmUgKz0gMTtcbiAgICAgICAgfSlcbiAgICAgICAga2V5LmxvYWQoKTtcbiAgICAgICAgaWQgPSBzZXRJbnRlcnZhbChsb29wLCAxNik7XG5cbiAgICB9KVxuXG59KVxuXG5sZXQgc2hvd1RpbWUgPSB7XG4gICAgc3RhdGU6IDAsXG4gICAgdGltZTogMTYsXG4gICAgY291bnQ6IDVcbn1cbmxldCB0b3RhbDtcblxuZnVuY3Rpb24gc2hvd3RpbWUoKSB7XG4gICAgbGV0IHNlID0gc3RhdGUuc2NvcmVcbiAgICB0b3RhbCA9IGJlYXRtYXAuc3RhdGUoKS5iZWF0bWFwLmxlbmd0aCAqIDMgKiAzLjUgLyAxMDtcbiAgICBpZiAoc2UgPiB0b3RhbCAmJiBzaG93VGltZS5zdGF0ZSA9PSAwKSB7XG4gICAgICAgIHNob3dUaW1lLnN0YXRlID0gMTtcbiAgICAgICAgc2hvd1RpbWUuY3VyclRpbWUgPSBiZWF0bWFwLnN0YXRlKCkudGltZTtcbiAgICAgICAga2V5LmVtaXQoXCJ0b3VjaE9uT2ZmXCIpXG4gICAgICAgIHN0YXRlLmF1dG8gPSB0cnVlO1xuICAgICAgICBncmFwaC5ncmFwaEV2ZW50LmVtaXQoXCJzaG93VGltZVwiKVxuICAgICAgICBpZiAoYWN0LmMgIT0gYWN0LmQpIHtcbiAgICAgICAgICAgIGNvbmZpZy5nYW1lQmVoZXN0KGFjdC5kLCBiZWF0bWFwLnN0YXRlKCkuYnBtKTtcbiAgICAgICAgICAgIGFjdC5jID0gYWN0LmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwic2hvd1RpbWVTdGFydFwiXG4gICAgfVxuICAgIGlmIChzaG93VGltZS5zdGF0ZSA9PSAxICYmIHNob3dUaW1lLmNvdW50ID09IDUgJiYgc2hvd1RpbWUuY3VyclRpbWUgKyBzaG93VGltZS50aW1lICogMTAwMCAtIGJlYXRtYXAuc3RhdGUoKS50aW1lIDw9IDUwMDApIHtcbiAgICAgICAgZ3JhcGguZ3JhcGhFdmVudC5lbWl0KFwiY291bnRkb3duXCIsIHNob3dUaW1lLmNvdW50KVxuICAgICAgICBzaG93VGltZS5jb3VudCA9IDRcbiAgICB9XG5cbiAgICBpZiAoc2hvd1RpbWUuc3RhdGUgPT0gMSAmJiBzaG93VGltZS5jb3VudCA9PSA0ICYmIHNob3dUaW1lLmN1cnJUaW1lICsgc2hvd1RpbWUudGltZSAqIDEwMDAgLSBiZWF0bWFwLnN0YXRlKCkudGltZSA8PSA0MDAwKSB7XG4gICAgICAgIGdyYXBoLmdyYXBoRXZlbnQuZW1pdChcImNvdW50ZG93blwiLCBzaG93VGltZS5jb3VudClcbiAgICAgICAgc2hvd1RpbWUuY291bnQgPSAzXG4gICAgfVxuXG4gICAgaWYgKHNob3dUaW1lLnN0YXRlID09IDEgJiYgc2hvd1RpbWUuY291bnQgPT0gMyAmJiBzaG93VGltZS5jdXJyVGltZSArIHNob3dUaW1lLnRpbWUgKiAxMDAwIC0gYmVhdG1hcC5zdGF0ZSgpLnRpbWUgPD0gMzAwMCkge1xuICAgICAgICBncmFwaC5ncmFwaEV2ZW50LmVtaXQoXCJjb3VudGRvd25cIiwgc2hvd1RpbWUuY291bnQpXG4gICAgICAgIHNob3dUaW1lLmNvdW50ID0gMlxuICAgIH1cbiAgICBpZiAoc2hvd1RpbWUuc3RhdGUgPT0gMSAmJiBzaG93VGltZS5jb3VudCA9PSAyICYmIHNob3dUaW1lLmN1cnJUaW1lICsgc2hvd1RpbWUudGltZSAqIDEwMDAgLSBiZWF0bWFwLnN0YXRlKCkudGltZSA8PSAyMDAwKSB7XG4gICAgICAgIGdyYXBoLmdyYXBoRXZlbnQuZW1pdChcImNvdW50ZG93blwiLCBzaG93VGltZS5jb3VudClcbiAgICAgICAgc2hvd1RpbWUuY291bnQgPSAxXG4gICAgfVxuICAgIGlmIChzaG93VGltZS5zdGF0ZSA9PSAxICYmIHNob3dUaW1lLmNvdW50ID09IDEgJiYgc2hvd1RpbWUuY3VyclRpbWUgKyBzaG93VGltZS50aW1lICogMTAwMCAtIGJlYXRtYXAuc3RhdGUoKS50aW1lIDw9IDEwMDApIHtcbiAgICAgICAgZ3JhcGguZ3JhcGhFdmVudC5lbWl0KFwiY291bnRkb3duXCIsIHNob3dUaW1lLmNvdW50KVxuICAgICAgICBzaG93VGltZS5jb3VudCA9IDBcbiAgICB9XG4gICAgaWYgKHNob3dUaW1lLnN0YXRlID09IDEgJiYgc2hvd1RpbWUuY291bnQgPT0gMCAmJiBzaG93VGltZS5jdXJyVGltZSArIHNob3dUaW1lLnRpbWUgKiAxMDAwIC0gYmVhdG1hcC5zdGF0ZSgpLnRpbWUgPD0gMjAwKSB7XG4gICAgICAgIGdyYXBoLmdyYXBoRXZlbnQuZW1pdChcImNvdW50ZG93blwiLCBzaG93VGltZS5jb3VudClcbiAgICAgICAgc2hvd1RpbWUuY291bnQgPSAtMVxuICAgIH1cblxuICAgIGlmIChzaG93VGltZS5zdGF0ZSA9PSAxICYmIGJlYXRtYXAuc3RhdGUoKS50aW1lID4gc2hvd1RpbWUuY3VyclRpbWUgKyBzaG93VGltZS50aW1lICogMTAwMCkge1xuICAgICAgICBzaG93VGltZS5zdGF0ZSA9IDI7XG4gICAgICAgIGtleS5lbWl0KFwidG91Y2hPbk9mZlwiKVxuICAgICAgICBzdGF0ZS5hdXRvID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBcInNob3dUaW1lRW5kXCJcbiAgICB9XG5cblxufVxuXG5sZXQgYWN0ID0ge1xuICAgIGU6IDEsXG4gICAgbDogMixcbiAgICBkOiAzLFxuICAgIHk6IDQsXG4gICAgbTogNSxcbiAgICBhOjYsXG4gICAgc3M6IDQwMDAsXG4gICAgczogNjAwMCxcbiAgICBjdDogMCxcbiAgICBjOiAxLFxuICAgIHN0YXRlOiAxXG59XG5cbmZ1bmN0aW9uIHNlbmRDbWQoY3VyclRpbWUpIHtcbiAgICBpZiAoc3RhdGUuY29tYm8gPT0gMCkge1xuICAgICAgICBjb25maWcuZ2FtZUJlaGVzdChhY3QubSwgYmVhdG1hcC5zdGF0ZSgpLmJwbSk7XG4gICAgICAgIGFjdC5jID0gYWN0Lm07XG4gICAgICAgIGFjdC5jdCA9IGN1cnJUaW1lO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUuY29tYm8gPj0gMTAgJiYgYWN0LmQgIT0gYWN0LmMpIHtcbiAgICAgICAgY29uZmlnLmdhbWVCZWhlc3QoYWN0LmQsIGJlYXRtYXAuc3RhdGUoKS5icG0pO1xuICAgICAgICBhY3QuYyA9IGFjdC5kO1xuICAgICAgICBhY3QuY3QgPSBjdXJyVGltZTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmNvbWJvIDwgMTAgJiYgc3RhdGUuY29tYm8gPiAwICYmIGFjdC5sICE9IGFjdC5jKSB7XG4gICAgICAgIGNvbmZpZy5nYW1lQmVoZXN0KGFjdC5sLCBiZWF0bWFwLnN0YXRlKCkuYnBtKTtcbiAgICAgICAgYWN0LmMgPSBhY3QubDtcbiAgICAgICAgYWN0LmN0ID0gY3VyclRpbWU7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIGV4ZWMoKSB7XG4gICAgbGV0IGN1cnJUaW1lID0gYmVhdG1hcC5zdGF0ZSgpLnRpbWU7XG4gICAgaWYgKGFjdC5zdGF0ZSA9PSAxICYmIGN1cnJUaW1lID49IGFjdC5zcykge1xuICAgICAgICBjb25maWcuZ2FtZUJlaGVzdChhY3QubCwgYmVhdG1hcC5zdGF0ZSgpLmJwbSk7XG4gICAgICAgIGFjdC5jID0gYWN0LmxcbiAgICAgICAgYWN0LnN0YXRlID0gMjtcbiAgICB9XG4gICAgaWYgKGFjdC5zdGF0ZSA9PSAyICYmIGN1cnJUaW1lID49IGFjdC5jdCArIGFjdC5zKSB7XG4gICAgICAgIHNlbmRDbWQoY3VyclRpbWUpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiYWN0LnN0YXRlXCIsYWN0LnN0YXRlKVxuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBjb21ibygpIHtcbiAgICBpZiAoc3RhdGUuY29tYm8gPiBzdGF0ZS5sYXN0Q29tYm8pIHtcbiAgICAgICAgc3RhdGUubGFzdENvbWJvID0gc3RhdGUuY29tYm9cbiAgICB9XG59XG5cbmxldCBmbGFnU3RheSA9IHRydWVcblxuZnVuY3Rpb24gbG9vcCgpIHtcblxuICAgIGlmIChiZWF0bWFwLnN0YXRlKCkudG90YWwtNDAwMCA8PSBiZWF0bWFwLnN0YXRlKCkudGltZSAmJiBmbGFnU3RheSkge1xuICAgICAgICBmbGFnU3RheSA9IGZhbHNlO1xuICAgICAgICBjb25maWcuZ2FtZUJlaGVzdChhY3QueSwgYmVhdG1hcC5zdGF0ZSgpLmJwbSk7XG4gICAgfVxuICAgIGlmIChiZWF0bWFwLnN0YXRlKCkudG90YWwgPT0gYmVhdG1hcC5zdGF0ZSgpLnRpbWUpIHtcbiAgICAgICAgY29tYm9zLnB1c2goc3RhdGUubGFzdENvbWJvKVxuICAgICAgICBsZXQgbWF4Q29tYm8gPSBNYXRoLm1heC5hcHBseShudWxsLCBjb21ib3MpO1xuICAgICAgICBsZXQgdG90YWwgPSBzdGF0ZS5zY29yZTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgICAgIGlmIChiZWF0bWFwLnN0YXRlKCkuYmVhdG1hcC5sZW5ndGggPT0gbWF4Q29tYm8pIHtcbiAgICAgICAgICAgIC8vYWxsIGNvbWJvXG4gICAgICAgICAgICBjb25maWcuZ2FtZUJlaGVzdChhY3QuYSwxMjApXG5cbiAgICAgICAgfVxuICAgICAgICBsZXQgdG90YWxTY29yZSA9IGJlYXRtYXAuc3RhdGUoKS5iZWF0bWFwLmxlbmd0aCAqIDM7XG4gICAgICAgIGxldCBuYW1lID0gYmVhdG1hcC5zdGF0ZSgpLm5hbWVcbiAgICAgICAgbGV0IHdyaXRlciA9IGJlYXRtYXAuc3RhdGUoKS53cml0ZXJcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9IGAuL2VuZC5odG1sP3Njb3JlPSR7dG90YWx9JmNvbWJvPSR7bWF4Q29tYm99JnRvdGFsPSR7dG90YWxTY29yZX0mbmFtZT0ke25hbWV9JndyaXRlcj0ke3dyaXRlcn1gO1xuICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIGxvY2F0aW9uLmhyZWYgPSBcIi4vZW5kLmh0bWxcIlxuICAgIH1cbiAgICBsZXQgbWlzc2VkID0gYmVhdG1hcC5zZWFyY2goKTtcbiAgICAvLyBjb25zb2xlLmxvZyhtaXNzZWQpO1xuICAgIGlmIChtaXNzZWQpIHRhaWtvLmVtaXQoXCJtaXNzXCIpXG5cbiAgICBncmFwaC5jbGVhcigpO1xuICAgIGdyYXBoLmRpc2goKTtcbiAgICBncmFwaC5wcm9ncmVzc0JnKCk7XG4gICAgZ3JhcGgubG9vcCgpO1xuICAgIGdyYXBoLnRyYWNrKGJlYXRtYXAuc3RhdGUoKSk7XG4gICAgZ3JhcGgucHJvZ3Jlc3Moc3RhdGUuc2NvcmUpO1xuICAgIHNob3d0aW1lKCk7XG4gICAgZ3JhcGguc2NvcmUoc3RhdGUuc2NvcmUpXG4gICAgZXhlYygpO1xuICAgIGNvbWJvKCk7XG4gICAgaWYgKHN0YXRlLmF1dG8gJiYgYmVhdG1hcC5yZXN1bHQoKSA9PSAnZ29vZCcpIHtcbiAgICAgICAgdmFyIGJzdGF0ZSA9IGJlYXRtYXAuc3RhdGUoKTtcbiAgICAgICAgdmFyIGJlYXQ7XG5cbiAgICAgICAgc3dpdGNoIChic3RhdGUuYmVhdG1hcFtic3RhdGUuaW5kZXhdWzFdKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgYmVhdCA9IFwidXBcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBiZWF0ID0gXCJkb3duXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgYmVhdCA9IFwibGVmdFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGJlYXQgPSBcInJpZ2h0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGFpa28uZW1pdCgnaGl0JywgYmVhdCk7XG4gICAgfVxufSIsImNvbnN0IEV2ZW50ID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbmNvbnN0IGxvYWQgPSByZXF1aXJlKFwiLi9sb2FkXCIpXG5sZXQga2V5ID0gd2luZG93LmtleSA9IG1vZHVsZS5leHBvcnRzID0gbmV3IEV2ZW50KCk7XG5cbmxldCBzdGF0ZSA9IHtcbiAgICB1cDogZmFsc2UsXG4gICAgZG93bjogZmFsc2UsXG4gICAgbGVmdDogZmFsc2UsXG4gICAgcmlnaHQ6IGZhbHNlXG59XG5cbmxldCBoaXQgPSB7XG4gICAgdXA6IFwidXBcIixcbiAgICBkb3duOiBcImRvd25cIixcbiAgICBsZWZ0OiBcImxlZnRcIixcbiAgICByaWdodDogXCJyaWdodFwiXG59XG5sZXQgY29tbWFuZCA9IHtcbiAgICBwOiBcInBsYXlcIixcbiAgICBhOiBcImF1dG9cIixcbiAgICBBcnJvd1VwOiBcInVwXCIsXG4gICAgQXJyb3dSaWdodDogXCJyaWdodFwiLFxuICAgIEFycm93TGVmdDogXCJsZWZ0XCIsXG4gICAgQXJyb3dEb3duOiBcImRvd25cIixcbn1cbmtleS5sb2FkID0gKCkgPT4ge1xuICAgIC8v6ZSu55uY5LqL5Lu2XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGtleS5ldmVudHMsIHRydWUpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBrZXkuZXZlbnRzLCB0cnVlKVxuICAgIC8vIOW8gOWni+eCueWHu+S6i+S7tlxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZ0ID0+IHtcbiAgICAgICAgbGV0IGRvbSA9IGV2dC50YXJnZXQ7XG4gICAgICAgIGxldCBhY3QgPSBkb20uZ2V0QXR0cmlidXRlKFwiZGF0YS1hdHRyXCIpO1xuICAgICAgICBpZiAoYWN0ID09IFwicGxheVwiKSB7XG4gICAgICAgICAgICBrZXkuZW1pdChhY3QpO1xuICAgICAgICAgICAgZG9tLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgICAgICB9XG5cbiAgICB9KVxufVxuXG5sZXQgb25PZmYgPSB0cnVlXG5cbmtleS5vbihcInRvdWNoT25PZmZcIiwgKCkgPT4ge1xuICAgIG9uT2ZmID0gIW9uT2ZmXG59KVxuXG4vKipcbiAqIOmUruebmFxuICovXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXYgPT4ge1xuICAgIGlmIChjb21tYW5kW2V2LmtleV0gPT0gXCJwbGF5XCIpIHJldHVybiBrZXkuZW1pdChjb21tYW5kW2V2LmtleV0pO1xuICAgIGlmIChjb21tYW5kW2V2LmtleV0gPT0gXCJhdXRvXCIpIHJldHVybiBrZXkuZW1pdChjb21tYW5kW2V2LmtleV0pXG4gICAgbGV0IGFjdCA9IGNvbW1hbmRbZXYua2V5XTtcbiAgICBpZiAoYWN0ICYmICFzdGF0ZVthY3RdKSB7XG4gICAgICAgIHN0YXRlW2FjdF0gPSB0cnVlO1xuICAgICAgICBrZXkuZW1pdChcImhpdFwiLCBhY3QsIHN0YXRlKTtcbiAgICB9XG5cbn0pXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGV2ID0+IHtcbiAgICAvLyBpZiAoY29tbWFuZFtldi5rZXldKSBrZXkuZW1pdChjb21tYW5kW2V2LmtleV0pO1xuICAgIGxldCBhY3QgPSBjb21tYW5kW2V2LmtleV07XG4gICAgaWYgKGFjdCAmJiBzdGF0ZVthY3RdKSB7XG4gICAgICAgIHN0YXRlW2FjdF0gPSBmYWxzZTtcbiAgICAgICAga2V5LmVtaXQoJ2hpdFVwJywgYWN0LCBzdGF0ZSk7XG4gICAgfVxufSlcblxuXG4vKipcbiAqIOmUruebmFxuICovXG5cbmtleS5ldmVudHMgPSBldnQgPT4ge1xuICAgIGxldCBkb20gPSBldnQudGFyZ2V0O1xuICAgIGxldCBhY3QgPSBoaXRbZG9tLmdldEF0dHJpYnV0ZShcImRhdGEtYXR0clwiKV07XG4gICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIHRvdWNoIDpcIithY3QpXG4gICAgaWYgKG9uT2ZmKSB7XG4gICAgICAgIGlmIChhY3QgJiYgIXN0YXRlW2FjdF0pIHtcbiAgICAgICAgICAgIHN0YXRlW2FjdF0gPSB0cnVlO1xuICAgICAgICAgICAga2V5LmVtaXQoXCJoaXRcIiwgYWN0LCBzdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZVthY3RdID0gZmFsc2U7XG4gICAgICAgICAgICBrZXkuZW1pdCgnaGl0VXAnLCBhY3QsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1lbHNlIHtcbiAgICAgICAgaWYgKHN0YXRlW2FjdF0pe1xuICAgICAgICAgICAgc3RhdGVbYWN0XSA9IGZhbHNlO1xuICAgICAgICAgICAga2V5LmVtaXQoJ2hpdFVwJywgYWN0LCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuIiwibGV0IGxvYWQgPSByZXF1aXJlKFwiLi9sb2FkXCIpXG5sZXQgYmVhdG1hcCA9IHJlcXVpcmUoXCIuL2JlYXRtYXBcIik7XG5sZXQgY29udGV4dCwgd2lkdGgsIGhlaWdodCwgaW1hZ2VzO1xuY29uc3QgREVGQVVMVF9SRVRBID0gMC40NTtcbmNvbnN0IERFRkFVTFRfRFJVTSA9IDAuNjg7XG53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICogREVGQVVMVF9SRVRBO1xubGV0IEV2ZW50ID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbmxldCBncmFwaEV2ZW50ID0gZXhwb3J0cy5ncmFwaEV2ZW50ID0gbmV3IEV2ZW50KCk7XG5cbmxldCB0cmFjayA9IHtcbiAgICBkdXJhdGlvbjogMjYwMCxcbiAgICBmcm9tWDogMCxcbiAgICB0b1g6IHdpZHRoLFxuICAgIHk6IGhlaWdodCAqIERFRkFVTFRfRFJVTSxcbiAgICBkZXN0OiA4NyxcbiAgICByYWRpdXM6IDI1XG59XG5cblxuY29uc3QgdHJheSA9IHtcbiAgICBkb3duOiBcImRvd25cIixcbiAgICBsZWZ0OiBcImxlZnRcIixcbiAgICByaWdodDogXCJyaWdodFwiLFxuICAgIHVwOiBcInVwXCJcbn1cblxubGV0IGRpc2ggPSB7XG4gICAgZGVzdDogODcsXG4gICAgcmFkaXVzOiAzMyxcbiAgICB5OiBoZWlnaHQgKiBERUZBVUxUX0RSVU0sXG4gICAgZnJvbVg6IDBcbn1cblxubGV0IGZpcmUgPSB7XG4gICAgYXJyOiBbXSxcbiAgICBjZW50ZXJYOiA4NyxcbiAgICBjZW50ZXJZOiBoZWlnaHQgKiBERUZBVUxUX0RSVU0sXG4gICAgcmFkaXVzOiA1NSxcbiAgICBmcm9tOiA3LFxuICAgIHRvOiAxNFxufVxubGV0IGNvbWJvID0ge1xuICAgIGNvdW50OiAwLFxuICAgIHN0YXRlOiA3LFxuICAgIGZyb206IDcsXG4gICAgdG86IDEwLFxuICAgIGNlbnRlclg6IHdpZHRoICogMC4xMSxcbiAgICBib3R0b21ZOiBoZWlnaHQgKiAwLjI4LFxuICAgIHdpZHRoOiB3aWR0aCAqIDAuMTM2LFxuICAgIGhlaWdodDogaGVpZ2h0ICogMC4xMzYsXG59O1xuXG5mdW5jdGlvbiBsb2FkQ2FudmFzKCkge1xuICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcbiAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbn1cblxuXG5mdW5jdGlvbiBsb2FkVHJhY2soKSB7XG4gICAgdHJhY2suZnggPSB0cmFjay5mcm9tWCAtIHRyYWNrLnJhZGl1cztcbiAgICB0cmFjay50eCA9IHRyYWNrLnRvWCArIHRyYWNrLnJhZGl1cztcbiAgICB0cmFjay5keSA9IHRyYWNrLnkgLSB0cmFjay5yYWRpdXM7XG5cbiAgICB0cmFjay5kaWFtZXRlciA9IHRyYWNrLnJhZGl1cyAqIDI7XG4gICAgdHJhY2sudiA9ICh0cmFjay50eCAtIHRyYWNrLmZ4KSAvIHRyYWNrLmR1cmF0aW9uO1xuICAgIHRyYWNrLnRpbWVGcm9tID0gKHRyYWNrLmZ4IC0gdHJhY2suZGVzdCkgLyB0cmFjay52O1xuICAgIHRyYWNrLnRpbWVUbyA9IHRyYWNrLnRpbWVGcm9tICsgdHJhY2suZHVyYXRpb247XG59XG5cbmZ1bmN0aW9uIGxvYWREaXNoKCkge1xuICAgIGRpc2guZnggPSBkaXNoLmRlc3QgLSBkaXNoLnJhZGl1cztcbiAgICBkaXNoLmR5ID0gZGlzaC55IC0gZGlzaC5yYWRpdXM7XG4gICAgZGlzaC5kaWFtZXRlciA9IGRpc2gucmFkaXVzICogMjtcbn1cblxuZnVuY3Rpb24gZ2VuQW5tYXAobWF4KSB7XG4gICAgcmV0dXJuIEFycmF5LmFwcGx5KG51bGwsIHtsZW5ndGg6IDIxfSkubWFwKGZ1bmN0aW9uIChlLCBpKSB7XG4gICAgICAgIHJldHVybiBtYXggKiBNYXRoLnNpbihNYXRoLlBJICogaSAvIDIwKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW1hZ2UoaW1hZ2UpIHtcbiAgICBpbWdDb250YWluZXIuaW5uZXJIVE1MID0gXCIgXCI7XG4gICAgaW1hZ2UuY2xhc3NMaXN0LmFkZChcInNob3dUaW1lLWltZ1wiKVxuICAgIGltYWdlLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIilcbiAgICBpbWdDb250YWluZXIuYXBwZW5kQ2hpbGQoaW1hZ2UpXG59XG5cbmZ1bmN0aW9uIGNsZWFySW1hZ2UoKSB7XG4gICAgaW1nQ29udGFpbmVyLmlubmVySFRNTCA9IFwiIFwiO1xufVxuXG5sZXQgaW1nQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaG93VGltZVwiKTtcbmdyYXBoRXZlbnQub24oXCJzaG93VGltZVwiLCAoKSA9PiB7XG4gICAgY3JlYXRlSW1hZ2UoaW1hZ2VzWzMzXSlcbn0pXG5ncmFwaEV2ZW50Lm9uKFwiY291bnRkb3duM1wiLCAoKSA9PiB7XG4gICAgbGV0IGltZyA9IGltYWdlc1szNF07XG4gICAgaW1nLnN0eWxlLndpZHRoPVwiODJweFwiXG4gICAgaW1nLnN0eWxlLmhlaWdodD1cIjkwcHhcIlxuICAgIGNyZWF0ZUltYWdlKGltZylcbn0pXG5cbmdyYXBoRXZlbnQub24oXCJjb3VudGRvd24yXCIsICgpID0+ICB7XG4gICAgbGV0IGltZyA9IGltYWdlc1szNV07XG4gICAgaW1nLnN0eWxlLndpZHRoPVwiODJweFwiXG4gICAgaW1nLnN0eWxlLmhlaWdodD1cIjkwcHhcIlxuICAgIGNyZWF0ZUltYWdlKGltZylcbn0pXG5ncmFwaEV2ZW50Lm9uKFwiY291bnRkb3duMVwiLCAoKSA9PiB7XG4gICAgbGV0IGltZyA9IGltYWdlc1szNl07XG4gICAgaW1nLnN0eWxlLndpZHRoPVwiNTBweFwiXG4gICAgaW1nLnN0eWxlLmhlaWdodD1cIjg4cHhcIlxuICAgIGNyZWF0ZUltYWdlKGltZylcbn0pXG4vLyBncmFwaEV2ZW50Lm9uKFwiY291bnRkb3duXCIsICgpID0+IGNsZWFySW1hZ2UoKSlcbmdyYXBoRXZlbnQub24oXCJjb3VudGRvd25cIiwgbnVtID0+e1xuICAgIGxldCBpbWc7XG4gICAgc3dpdGNoIChudW0pIHtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgaW1nID0gaW1hZ2VzWzMzXTtcbiAgICAgICAgICAgIGltZ0NvbnRhaW5lci5pbm5lckhUTUwgPSBcIiBcIjtcbiAgICAgICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKFwic2hvd1RpbWUtaW1nXCIpXG4gICAgICAgICAgICBpbWcuY2xhc3NMaXN0LmFkZChcImFjdGl2ZTFcIilcbiAgICAgICAgICAgIGltZ0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbWcpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgaW1nID0gaW1hZ2VzWzM3XTtcbiAgICAgICAgICAgIGltZy5zdHlsZS53aWR0aD1cIjQwMHB4XCJcbiAgICAgICAgICAgIGltZy5zdHlsZS5oZWlnaHQ9XCI3MnB4XCJcbiAgICAgICAgICAgIGNyZWF0ZUltYWdlKGltZylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBpbWcgPSBpbWFnZXNbMzRdO1xuICAgICAgICAgICAgaW1nLnN0eWxlLndpZHRoPVwiODJweFwiXG4gICAgICAgICAgICBpbWcuc3R5bGUuaGVpZ2h0PVwiOTBweFwiXG4gICAgICAgICAgICBjcmVhdGVJbWFnZShpbWcpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgaW1nID0gaW1hZ2VzWzM1XTtcbiAgICAgICAgICAgIGltZy5zdHlsZS53aWR0aD1cIjgycHhcIlxuICAgICAgICAgICAgaW1nLnN0eWxlLmhlaWdodD1cIjkwcHhcIlxuICAgICAgICAgICAgY3JlYXRlSW1hZ2UoaW1nKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGltZyA9IGltYWdlc1szNl07XG4gICAgICAgICAgICBpbWcuc3R5bGUud2lkdGg9XCI1MHB4XCJcbiAgICAgICAgICAgIGltZy5zdHlsZS5oZWlnaHQ9XCI4OHB4XCJcbiAgICAgICAgICAgIGNyZWF0ZUltYWdlKGltZylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjbGVhckltYWdlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59KVxuZXhwb3J0cy5sb2FkID0gKCkgPT4ge1xuICAgIGxvYWRDYW52YXMoKTtcbiAgICBmaXJlLmFubWFwID0gZ2VuQW5tYXAoZmlyZS5yYWRpdXMpO1xuICAgIGNvbWJvLmFubWFwID0gZ2VuQW5tYXAoY29tYm8uaGVpZ2h0KTtcbiAgICBjb21iby5udW1Bbm1hcCA9IGdlbkFubWFwKGNvbWJvLmhlaWdodCArIGNvbWJvLmZyb20pO1xuICAgIGxldCBzaG93QyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2hvd1RpbWUtY29udGFpbmVyXCIpO1xuICAgIHNob3dDLnN0eWxlLnRvcCA9IGhlaWdodCAqIDc3IC8gMTAwICogMzQ3IC8gMTAwMCArIFwicHhcIlxuICAgIGxvYWRUcmFjaygpO1xuICAgIGxvYWREaXNoKCk7XG4gICAgbGV0IHRhc2tzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMjsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKykge1xuICAgICAgICAgICAgdGFza3MucHVzaCgnLi9pbWFnZS9udW1fJyArIGkgKyAnXycgKyBqICsgJy5wbmcnKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29uc29sZS5sb2codGFza3MuY29uY2F0KFtcbiAgICAvLyAgICAgXCJpbWFnZS9waWNfcmVhY3Rpb25fZy5wbmdcIixcbiAgICAvLyAgICAgXCJpbWFnZS9nb29kLnBuZ1wiLFxuICAgIC8vICAgICBcImltYWdlL2dyZWF0LnBuZ1wiLFxuICAgIC8vICAgICBcImltYWdlL3ByZWZlcnQucG5nXCIsXG4gICAgLy8gICAgIFwiaW1hZ2UvQ29tYm8ucG5nXCIsXG4gICAgLy8gICAgIFwiaW1hZ2UvdXAucG5nXCIsXG4gICAgLy8gICAgIFwiaW1hZ2UvZG93bi5wbmdcIixcbiAgICAvLyAgICAgXCJpbWFnZS9sZWZ0LnBuZ1wiLFxuICAgIC8vICAgICBcImltYWdlL3JpZ2h0LnBuZ1wiLFxuICAgIC8vICAgICBcImltYWdlL3BpY19yZWFjdGlvbl9nMS5wbmdcIixcbiAgICAvLyAgICAgXCIuL2ltYWdlL3NsaWRpbmdfMS5wbmdcIixcbiAgICAvLyAgICAgXCIuL2ltYWdlL3NsaWRpbmdfMi5wbmdcIixcbiAgICAvLyAgICAgXCIuL2ltYWdlL2JnX251bV9zLnBuZ1wiLFxuICAgIC8vICAgICBcIi4vaW1hZ2Uvc2hvd3RpbWUucG5nXCIsXG4gICAgLy8gICAgIFwiLi9pbWFnZS9waWNfMy5wbmdcIixcbiAgICAvLyAgICAgXCIuL2ltYWdlL3BpY18yLnBuZ1wiLFxuICAgIC8vICAgICBcIi4vaW1hZ2UvcGljXzEucG5nXCIsXG4gICAgLy8gICAgIFwiLi9pbWFnZS9waWNfZ28ucG5nXCIsXG4gICAgLy8gICAgIFwiaW1hZ2UvcGljX3JlYWN0aW9uX3Bhc3MucG5nXCIsXG4gICAgLy8gXSkpXG4gICAgdGFza3MgPSB0YXNrcy5jb25jYXQoW1xuICAgICAgICBcIi4vaW1hZ2UvcGljX3JlYWN0aW9uX2cucG5nXCIsXG4gICAgICAgIFwiLi9pbWFnZS9nb29kLnBuZ1wiLFxuICAgICAgICBcIi4vaW1hZ2UvZ3JlYXQucG5nXCIsXG4gICAgICAgIFwiLi9pbWFnZS9wcmVmZXJ0LnBuZ1wiLFxuICAgICAgICBcIi4vaW1hZ2UvQ29tYm8ucG5nXCIsXG4gICAgICAgIFwiLi9pbWFnZS91cC5wbmdcIixcbiAgICAgICAgXCIuL2ltYWdlL2Rvd24ucG5nXCIsXG4gICAgICAgIFwiLi9pbWFnZS9sZWZ0LnBuZ1wiLFxuICAgICAgICBcIi4vaW1hZ2UvcmlnaHQucG5nXCIsXG4gICAgICAgIFwiLi9pbWFnZS9waWNfcmVhY3Rpb25fZzEucG5nXCIsXG4gICAgICAgIFwiLi9pbWFnZS9zbGlkaW5nXzEucG5nXCIsXG4gICAgICAgIFwiLi9pbWFnZS9zbGlkaW5nXzIucG5nXCIsXG4gICAgICAgIFwiLi9pbWFnZS9iZ19udW1fcy5wbmdcIixcbiAgICAgICAgXCIuL2ltYWdlL3Nob3d0aW1lLnBuZ1wiLFxuICAgICAgICBcIi4vaW1hZ2UvcGljXzMucG5nXCIsXG4gICAgICAgIFwiLi9pbWFnZS9waWNfMi5wbmdcIixcbiAgICAgICAgXCIuL2ltYWdlL3BpY18xLnBuZ1wiLFxuICAgICAgICBcIi4vaW1hZ2UvcGljX2dvLnBuZ1wiLFxuICAgICAgICBcIi4vaW1hZ2UvcGljX3JlYWN0aW9uX3Bhc3MucG5nXCIsXG4gICAgXSkubWFwKGxvYWQpO1xuICAgIHJldHVybiBQcm9taXNlLmFsbCh0YXNrcykudGhlbihyZXMgPT4gaW1hZ2VzID0gcmVzKVxufVxuZXhwb3J0cy50cmFjayA9IHN0YXRlID0+IHtcbiAgICBsZXQgaW1nLCBiZWF0O1xuICAgIGxldCBmcm9tVCA9IHRyYWNrLnRpbWVGcm9tICsgc3RhdGUudGltZTtcbiAgICBsZXQgdG9UID0gdHJhY2sudGltZVRvICsgc3RhdGUudGltZTtcbiAgICBsZXQgaSA9IHN0YXRlLmluZGV4O1xuXG5cbiAgICB3aGlsZSAoaSA8IHN0YXRlLmJlYXRtYXAubGVuZ3RoICYmIHN0YXRlLmJlYXRtYXBbaV1bMF0gPD0gdG9UKSBpKys7XG4gICAgd2hpbGUgKC0taSA+IC0xICYmIHN0YXRlLmJlYXRtYXBbaV1bMF0gPj0gZnJvbVQpIHtcbiAgICAgICAgaWYgKCFzdGF0ZS5yZWNvcmRbaV0pIHtcbiAgICAgICAgICAgIGJlYXQgPSBzdGF0ZS5iZWF0bWFwW2ldO1xuICAgICAgICAgICAgc3dpdGNoIChiZWF0WzFdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpbWcgPSBpbWFnZXNbMjVdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGltZyA9IGltYWdlc1syNl07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaW1nID0gaW1hZ2VzWzI3XTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpbWcgPSBpbWFnZXNbMjhdO1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGltZykge1xuICAgICAgICAgICAgICAgIGxldCB4ID0gKGJlYXRbMF0gLSBmcm9tVCkgKiB0cmFjay52ICsgdHJhY2suZnggLSB0cmFjay5yYWRpdXM7XG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1nLCB4LCB0cmFjay5keSwgdHJhY2suZGlhbWV0ZXIsIHRyYWNrLmRpYW1ldGVyKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnRzLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xufTtcblxuXG5sZXQgcHJvZ3Jlc3NCZyA9IHtcbiAgICBoOiBoZWlnaHQgKiAxNyAvIDEwMCxcbiAgICB3OiB3aWR0aCAqIDQ3IC8gMTAwLFxuICAgIHg6IHdpZHRoICogMzcgLyAxMDAsXG4gICAgeTogaGVpZ2h0ICogMjAgLyAxMDBcbn1cbmxldCBwcm9ncmVzcyA9IHtcbiAgICBoOiBoZWlnaHQgKiA5NSAvIDEwMDAsXG4gICAgdzogd2lkdGggKiA0NDQgLyAxMDAwLFxuICAgIHg6IHdpZHRoICogMzg1IC8gMTAwMCxcbiAgICB5OiBoZWlnaHQgKiAyMzQgLyAxMDAwLFxufVxubGV0IGJ0biA9IHtcbiAgICBoOiBoZWlnaHQgKiAxOSAvIDEwMCxcbiAgICB3OiB3aWR0aCAqIDE5IC8gMTAwLFxuICAgIHg6IHdpZHRoICogODEgLyAxMDAsXG4gICAgeTogaGVpZ2h0ICogMTc1IC8gMTAwMFxufVxubGV0IHNjb3JlID0ge1xuICAgIGg6IGhlaWdodCAqIDE3OCAvIDEwMDAsXG4gICAgdzogd2lkdGggKiA0NCAvIDEwMDAsXG4gICAgeDogd2lkdGggKiA4MTIgLyAxMDAwLFxuICAgIHk6IGhlaWdodCAqIDE0MiAvIDEwMDBcbn1cbmxldCB0b3RhbCwgcHJvVztcbmV4cG9ydHMucHJvZ3Jlc3MgPSBzZSA9PiB7XG4gICAgdG90YWwgPSBiZWF0bWFwLnN0YXRlKCkuYmVhdG1hcC5sZW5ndGggKiAzICogMy41IC8gMTA7XG4gICAgcHJvVyA9IGltYWdlc1szMV0ud2lkdGg7XG4gICAgbGV0IHcgPSBzZSAqIHByb2dyZXNzLncgLyB0b3RhbDtcbiAgICBsZXQgcHcgPSBzZSAqIHByb1cgLyB0b3RhbDtcbiAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZXNbMzFdLCAwLCAwLCBwdywgaW1hZ2VzWzMxXS5oZWlnaHQsIHByb2dyZXNzLngsIHByb2dyZXNzLnksIHcsIHByb2dyZXNzLmgpXG59XG5leHBvcnRzLnNjb3JlID0gc2UgPT4ge1xuICAgIC8vIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlc1szMV0scHJvZ3Jlc3MueCxwcm9ncmVzcy55LHByb2dyZXNzLncscHJvZ3Jlc3MuaClcbiAgICBsZXQgc3RyID0gc2UudG9TdHJpbmcoKS5zcGxpdChcIlwiKTtcbiAgICBsZXQgeCA9IHNjb3JlLnggKyAxMDtcbiAgICBzdHIuZm9yRWFjaChzID0+IHtcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2VzW3NdLCB4LCBzY29yZS55LCBzY29yZS53LCBzY29yZS5oKTtcbiAgICAgICAgeCArPSBzY29yZS53XG4gICAgfSlcblxufVxuZXhwb3J0cy5wcm9ncmVzc0JnID0gKCkgPT4ge1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlc1szMF0sIDAsIDAsIGltYWdlc1szMF0ud2lkdGgsIGltYWdlc1szMF0uaGVpZ2h0LCBwcm9ncmVzc0JnLngsIHByb2dyZXNzQmcueSwgcHJvZ3Jlc3NCZy53LCBwcm9ncmVzc0JnLmgpXG4gICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2VzWzMyXSwgYnRuLngsIGJ0bi55LCBidG4udywgYnRuLmgpXG59XG5cbmV4cG9ydHMuZGlzaCA9ICgpID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZyhpbWFnZXMubGVuZ3RoKVxuICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlc1tpbWFnZXMubGVuZ3RoIC0gMV0sIGRpc2guZngsIGRpc2guZHksIGRpc2guZGlhbWV0ZXIsIGRpc2guZGlhbWV0ZXIpXG59XG5cbmV4cG9ydHMuY29tYm8gPSBjb3VudCA9PiB7XG4gICAgY29tYm8uc2hvdyA9IChjb3VudCAmJiBjb3VudCA+PSAxMCk7XG4gICAgaWYgKCFjb21iby5zaG93KSByZXR1cm47XG4gICAgY29tYm8uc3RyID0gY291bnQudG9TdHJpbmcoKS5zcGxpdChcIlwiKTtcbiAgICBjb21iby5zdGFnZSA9IGNvbWJvLmZyb207XG59XG5cblxuZXhwb3J0cy5maXJlID0gcmVzID0+IHtcbiAgICBsZXQgc3RhdGUgPSB7c3RhZ2U6IGZpcmUuZnJvbX07XG4gICAgaWYgKHJlcyA9PSBcImdvb2RcIikgc3RhdGUuaW1nID0gaW1hZ2VzWzIwXTtcbiAgICBlbHNlIHN0YXRlLmltZyA9IGltYWdlc1syOV07XG4gICAgZmlyZS5hcnIucHVzaChzdGF0ZSk7XG59XG5cblxuZXhwb3J0cy50cmF5ID0gc3RhdGUgPT4ge1xuICAgIE9iamVjdC5rZXlzKHRyYXkpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgbGV0IGNsYSA9IHN0YXRlW2tleV0gPyB0cmF5W2tleV0gKyBcIkFjdGl2ZVwiIDogdHJheVtrZXldO1xuICAgICAgICBsZXQgZG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLWF0dHI9XCIgKyBrZXkgKyBcIl1cIik7XG4gICAgICAgIGxldCBmbGFnID0gZG9tLmNsYXNzTGlzdC5jb250YWlucyhjbGEpO1xuICAgICAgICBpZiAoIWZsYWcpIHtcbiAgICAgICAgICAgIGlmIChrZXkgIT0gY2xhKSB7XG4gICAgICAgICAgICAgICAgZG9tLmNsYXNzTGlzdC50b2dnbGUoY2xhLCAhZmxhZyk7XG4gICAgICAgICAgICAgICAgZG9tLmNsYXNzTGlzdC50b2dnbGUoa2V5LCBmbGFnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9tLmNsYXNzTGlzdC50b2dnbGUoY2xhLCAhZmxhZyk7XG4gICAgICAgICAgICAgICAgZG9tLmNsYXNzTGlzdC50b2dnbGUodHJheVtrZXldICsgXCJBY3RpdmVcIiwgZmxhZyk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmV4cG9ydHMubG9vcCA9ICgpID0+IHtcblxuXG4gICAgaWYgKGNvbWJvLnNob3cgJiYgY29tYm8uc3RhdGUgPD0gY29tYm8udG8pIHtcbiAgICAgICAgbGV0IG51bVggPSBjb21iby5jZW50ZXJYICsgY29tYm8ud2lkdGggKyAxNTtcbiAgICAgICAgY29tYm8uc3RyLmZvckVhY2goKHMsIGspID0+IHtcbiAgICAgICAgICAgIGxldCBoZWlnaHQgPSBjb21iby5hbm1hcFtjb21iby5zdGFnZV1cbiAgICAgICAgICAgIGxldCB5ID0gY29tYm8uYm90dG9tWSAtIGhlaWdodDtcbiAgICAgICAgICAgIGxldCBuSCA9IGNvbWJvLm51bUFubWFwW2NvbWJvLnN0YWdlXTtcbiAgICAgICAgICAgIGxldCBuWSA9IGNvbWJvLmJvdHRvbVkgLSBuSCArIDU7XG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZXNbMjRdLCBjb21iby5jZW50ZXJYLCB5LCBjb21iby53aWR0aCwgaGVpZ2h0KVxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2VzWzEwICsgcyAqIDFdLCBudW1YLCBuWSwgMjAsIG5IKTtcbiAgICAgICAgICAgIG51bVggKz0gMjA7XG4gICAgICAgIH0pXG4gICAgICAgIGNvbWJvLnN0YWdlKys7XG4gICAgICAgIGlmIChjb21iby5zdGFnZSA+IGNvbWJvLnRvKSBjb21iby5zdGFnZSA9IGNvbWJvLnRvXG4gICAgfVxuXG5cbiAgICBmaXJlLmFyciA9IGZpcmUuYXJyLmZpbHRlcihzdGF0ZSA9PiBzdGF0ZS5zdGFnZSA8PSBmaXJlLnRvKS5tYXAoc3RhdGUgPT4ge1xuICAgICAgICBsZXQgcmFkaXVzID0gZmlyZS5hbm1hcFtzdGF0ZS5zdGFnZV07XG4gICAgICAgIGxldCB4ID0gZmlyZS5jZW50ZXJYIC0gcmFkaXVzO1xuICAgICAgICBsZXQgeSA9IGZpcmUuY2VudGVyWSAtIHJhZGl1cztcbiAgICAgICAgbGV0IGRpYW1ldGVyID0gcmFkaXVzICogMjtcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2Uoc3RhdGUuaW1nLCB4LCB5LCBkaWFtZXRlciwgZGlhbWV0ZXIpO1xuICAgICAgICBzdGF0ZS5zdGFnZSsrXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9KVxuXG5cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==